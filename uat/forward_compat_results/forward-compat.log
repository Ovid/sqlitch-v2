Forward compatibility harness (sqlitch â†’ sqitch)


============================================================
STEP: Step 1: Initialize Project
COMMAND: sqlitch init flipr --uri https://github.com/sqitchers/sqitch-sqlite-intro/ --engine sqlite
============================================================
Created sqitch.conf
Created sqitch.plan
Created deploy/
Created revert/
Created verify/

============================================================
STEP: Step 2: Configure User Name
COMMAND: sqitch config user.name Test User
============================================================


============================================================
STEP: Step 3: Configure User Email
COMMAND: sqlitch config user.email test@example.com
============================================================
Set user.email in local scope

============================================================
STEP: Step 4: Disable Pager
COMMAND: sqitch config --bool core.pager false
============================================================


============================================================
STEP: Step 5: Add 'users' Table
COMMAND: sqlitch add users -n Creates table to track our users.
============================================================
Created deploy/users.sql
Created revert/users.sql
Created verify/users.sql
Added "users" to sqitch.plan

============================================================
STEP: Step 6: Deploy 'users' Table
COMMAND: sqitch deploy db:sqlite:flipr_test.db
============================================================
Adding registry tables to db:sqlite:sqitch.db
Deploying changes to db:sqlite:flipr_test.db
  + users .. ok

============================================================
STEP: Step 7: Verify 'users' Deployment
COMMAND: sqlitch verify db:sqlite:flipr_test.db
============================================================
Verifying flipr_test
  * users .. ok
Verify successful

============================================================
STEP: Step 8: Check Status After Deploy
COMMAND: sqitch status db:sqlite:flipr_test.db
============================================================
# On database db:sqlite:flipr_test.db
# Project:  flipr
# Change:   e7fa5e64ef2e5a2074ebc14cd6a0e3b43114dcd0
# Name:     users
# Deployed: 2025-10-11 21:58:01 +0200
# By:       Test User <test@example.com>
# 
Nothing to deploy (up-to-date)

============================================================
STEP: Step 9: Check DB Schema with sqlite3
COMMAND: sqlite3 flipr_test.db .tables
============================================================
users

============================================================
STEP: Step 10: Revert 'users' Table
COMMAND: sqitch revert db:sqlite:flipr_test.db -y
============================================================
Reverting all changes from db:sqlite:flipr_test.db
  - users .. ok

============================================================
STEP: Step 11: Verify Revert with sqlite3
COMMAND: sqlite3 flipr_test.db .tables
============================================================


============================================================
STEP: Step 12: Check Sqitch Log
COMMAND: sqitch log db:sqlite:flipr_test.db
============================================================
On database db:sqlite:flipr_test.db
Revert e7fa5e64ef2e5a2074ebc14cd6a0e3b43114dcd0
Name:      users
Committer: Test User <test@example.com>
Date:      2025-10-11 21:58:01 +0200

    Creates table to track our users.

Deploy e7fa5e64ef2e5a2074ebc14cd6a0e3b43114dcd0
Name:      users
Committer: Test User <test@example.com>
Date:      2025-10-11 21:58:01 +0200

    Creates table to track our users.


============================================================
STEP: Step 13: Add Target 'flipr_test'
COMMAND: sqlitch target add flipr_test db:sqlite:flipr_test.db
============================================================
Added target flipr_test

============================================================
STEP: Step 14: Add Engine for Target
COMMAND: sqitch engine add sqlite flipr_test
============================================================


============================================================
STEP: Step 15: Enable Deploy Verification
COMMAND: sqlitch config --bool deploy.verify true
============================================================
Set deploy.verify in local scope

============================================================
STEP: Step 16: Enable Rebase Verification
COMMAND: sqitch config --bool rebase.verify true
============================================================


============================================================
STEP: Step 17: Deploy Again with Target
COMMAND: sqlitch deploy
============================================================
Deploying plan 'flipr' to target 'db:sqlite:flipr_test.db'.
  + users
Deployment complete. Applied 1 change(s).

============================================================
STEP: Step 18: Add 'flips' Table
COMMAND: sqitch add flips --requires users -n Adds table for storing flips.
============================================================
Created deploy/flips.sql
Created revert/flips.sql
Created verify/flips.sql
Added "flips [users]" to sqitch.plan

============================================================
STEP: Step 19: Deploy 'flips' Table
COMMAND: sqlitch deploy
============================================================
Deploying plan 'flipr' to target 'db:sqlite:flipr_test.db'.
  + flips
Deployment complete. Applied 1 change(s).

============================================================
STEP: Step 20: Verify All Deployments
COMMAND: sqitch verify
============================================================
unable to open database file
